{
	"$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
	"name": "Hollicode",
	"patterns": [
		{ "include": "#directive" },
		{ "include": "#comment" },
		{ "include": "#anchor" },
		{ "include": "#goto" },
		{ "include": "#text-line" }
	],
	"repository": {
		"directive": {
			"begin": "^[ \t]*\\[",
			"end": "\\]",
			"patterns": [
				{ "include": "#keyword" },
				{ "include": "#const-word" },
				{ "include": "#identifier" },
				{ "include": "#string-literal" },
				{ "include": "#number-literal" }
			]
		},
		"comment": {
			"match": "^[ \t]*#.+",
			"name": "comment.number-sign"
		},
		"anchor": {
			"match": "^[ \t]*>.+",
			"name": "markup.heading"
		},
		"goto": {
			"match": "^[ \t]*\\->.+",
			"name": "variable.parameter"
		},
		"text-line": {
			"match": "^[ \t](\\*)?.+",
			"name": "",
			"captures": {
				"1": { "name": "keyword.operator" }
			}
		},
		"keyword": {
			"match": "\\b(?i:if|else|option|wait)\\b",
			"name": "keyword.language"
		},
		"const-word": {
			"match": "\\b(?i:true|false|nil)\\b",
			"name": "constant.language"
		},
		"identifier": {
			"match": "\\b([a-zA-Z_][a-zA-Z_0-9]*)\\b",
			"name": "variable.other"
		},
		"string-literal": {
			"patterns": [
				{
          "begin": "\"",
          "end": "\"",
          "patterns": [
            {  "name": "constant.character.escape",
                "match": "\\\\."
            }
          ],
          "name": "string.quoted.double"
        }
			]
		},
		"number-literal": {
			"match": "\\b\\-?(\\d*\\.)?\\d+\\b",
			"name": "constant.numeric"
		}
	},
	"scopeName": "source.hollicode"
}